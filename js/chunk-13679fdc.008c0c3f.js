(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13679fdc"],{"1dde":function(t,e,c){var n=c("d039"),o=c("b622"),r=c("2d00"),a=o("species");t.exports=function(t){return r>=51||!n((function(){var e=[],c=e.constructor={};return c[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"31fc":function(t,e,c){"use strict";c.r(e);var n=c("7a23"),o={class:"container my-5"},r=Object(n["h"])("div",null,[Object(n["h"])("h1",{class:"text-center mt-5"},"收藏清單")],-1),a={class:"row mt-5"},s={class:"col-md-12"},i={class:"row row-cols-1 row-cols-md-3"},d={class:"card h-100 border-0 box-shadow"},u={class:"card-body"},l={class:"badge bg-secondary float-end ml-2"},b={class:"card-title"},h=Object(n["h"])("p",{class:"card-text"},null,-1),f={class:"d-flex justify-content-between align-items-baseline"},p={key:0,class:"h5"},j={key:1,class:"h6"},g={key:2,class:"h5"},O=Object(n["j"])("現在只要 "),v={class:"text-danger"},y=Object(n["j"])(" 元 "),m={class:"card-footer border-top-0 bg-white d-flex mb-2 mx-2"},w=["onClick"],k=Object(n["h"])("i",{class:"fas fa-spinner fa-spin"},null,-1),x=Object(n["j"])(" 查看更多 "),I=[k,x],C=["onClick","disabled"],L={key:0,class:"spinner-border spinner-border-sm",role:"status"},$=Object(n["h"])("span",{class:"visually-hidden"},"Loading...",-1),P=[$],S=Object(n["j"])(" 加到購物車 ");function A(t,e,c,k,x,$){var A=this,J=Object(n["F"])("Loading");return Object(n["y"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(J,{active:x.isLoading},null,8,["active"]),Object(n["h"])("div",o,[Object(n["h"])("div",null,[r,Object(n["h"])("div",a,[Object(n["h"])("div",s,[Object(n["h"])("div",i,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])($.favlist,(function(t){return Object(n["y"])(),Object(n["g"])("div",{class:"col",key:t.id},[Object(n["h"])("div",d,[Object(n["h"])("div",{style:Object(n["s"])([{height:"180px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}]),class:"w-100"},null,4),Object(n["h"])("div",u,[Object(n["h"])("span",l,Object(n["I"])(t.category),1),Object(n["h"])("h5",b,Object(n["I"])(t.title),1),h,Object(n["h"])("div",f,[t.price?Object(n["f"])("",!0):(Object(n["y"])(),Object(n["g"])("div",p,Object(n["I"])(t.origin_price)+" 元",1)),t.price?(Object(n["y"])(),Object(n["g"])("del",j,"原價 "+Object(n["I"])(t.origin_price)+" 元",1)):Object(n["f"])("",!0),t.price?(Object(n["y"])(),Object(n["g"])("div",g,[Object(n["h"])("strong",null,[O,Object(n["h"])("span",v,Object(n["I"])(t.price),1),y])])):Object(n["f"])("",!0)])]),Object(n["h"])("div",m,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:Object(n["T"])((function(e){return $.getProduct(t.id)}),["prevent"])},I,8,w),Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm ms-auto",onClick:function(e){return $.addCart(t.id)},disabled:A.status.loadingItem===t.id},[A.status.loadingItem===t.id?(Object(n["y"])(),Object(n["g"])("div",L,P)):Object(n["f"])("",!0),S],8,C)])])])})),128))])])])])])],64)}c("99af"),c("4de4");var J={data:function(){return{favorited:JSON.parse(localStorage.getItem("favoriteItem"))||[],products:[],product:{},status:{loadingItem:""},isLoading:!1,category:"All",categoryItem:[],tempProducts:[],serch:""}},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiru0220","/products/?page=").concat(e);this.isLoading=!0,this.$http.get(c).then((function(e){t.isLoading=!1,e.data.success&&(console.log(e.data.products),t.products=e.data.products)}))},getProduct:function(t){this.$router.push("/product/".concat(t))},addCart:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiru0220","/cart");this.status.loadingItem=t;var n={product_id:t,qty:1};this.$http.post(c,{data:n}).then((function(t){t.data.success&&(console.log(t),e.status.loadingItem="",e.$httpMessageState(t,"加入購物車"))}))}},computed:{favlist:function(){var t=this;return this.products.filter((function(e){return t.favorited.indexOf(e.id)>-1}))}},created:function(){this.$route.params.category&&(this.category=this.$route.params.category),this.getProducts()}};c("ee0c");J.render=A;e["default"]=J},"4de4":function(t,e,c){"use strict";var n=c("23e7"),o=c("b727").filter,r=c("1dde"),a=r("filter");n({target:"Array",proto:!0,forced:!a},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},8418:function(t,e,c){"use strict";var n=c("a04b"),o=c("9bf2"),r=c("5c6c");t.exports=function(t,e,c){var a=n(e);a in t?o.f(t,a,r(0,c)):t[a]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),o=c("d039"),r=c("e8b5"),a=c("861d"),s=c("7b0b"),i=c("50c4"),d=c("8418"),u=c("65f0"),l=c("1dde"),b=c("b622"),h=c("2d00"),f=b("isConcatSpreadable"),p=9007199254740991,j="Maximum allowed index exceeded",g=h>=51||!o((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),O=l("concat"),v=function(t){if(!a(t))return!1;var e=t[f];return void 0!==e?!!e:r(t)},y=!g||!O;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,c,n,o,r,a=s(this),l=u(a,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?a:arguments[e],v(r)){if(o=i(r.length),b+o>p)throw TypeError(j);for(c=0;c<o;c++,b++)c in r&&d(l,b,r[c])}else{if(b>=p)throw TypeError(j);d(l,b++,r)}return l.length=b,l}})},ce35:function(t,e,c){},ee0c:function(t,e,c){"use strict";c("ce35")}}]);
//# sourceMappingURL=chunk-13679fdc.008c0c3f.js.map