(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b688bfc"],{"1dde":function(t,e,c){var n=c("d039"),r=c("b622"),o=c("2d00"),i=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],c=e.constructor={};return c[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,c){"use strict";var n=c("23e7"),r=c("b727").filter,o=c("1dde"),i=o("filter");n({target:"Array",proto:!0,forced:!i},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},8418:function(t,e,c){"use strict";var n=c("a04b"),r=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var i=n(e);i in t?r.f(t,i,o(0,c)):t[i]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),r=c("d039"),o=c("e8b5"),i=c("861d"),a=c("7b0b"),s=c("50c4"),l=c("8418"),u=c("65f0"),b=c("1dde"),d=c("b622"),h=c("2d00"),O=d("isConcatSpreadable"),j=9007199254740991,f="Maximum allowed index exceeded",p=h>=51||!r((function(){var t=[];return t[O]=!1,t.concat()[0]!==t})),g=b("concat"),y=function(t){if(!i(t))return!1;var e=t[O];return void 0!==e?!!e:o(t)},v=!p||!g;n({target:"Array",proto:!0,forced:v},{concat:function(t){var e,c,n,r,o,i=a(this),b=u(i,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?i:arguments[e],y(o)){if(r=s(o.length),d+r>j)throw TypeError(f);for(c=0;c<r;c++,d++)c in o&&l(b,d,o[c])}else{if(d>=j)throw TypeError(f);l(b,d++,o)}return b.length=d,b}})},b0c0:function(t,e,c){var n=c("83ab"),r=c("9bf2").f,o=Function.prototype,i=o.toString,a=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&r(o,s,{configurable:!0,get:function(){try{return i.call(this).match(a)[1]}catch(t){return""}}})},f01f:function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23"),r={class:"container"},o=Object(n["h"])("div",{class:"my-5"},[Object(n["h"])("h1",{class:"text-center"},"訂單查詢")],-1),i={class:"list-group-item list-group-item-action","aria-current":"true"},a={class:"h4"},s={class:"card card-body"},l={class:"my-5 row justify-content-center"},u=["onSubmit"],b={class:"table align-middle"},d=Object(n["h"])("thead",null,[Object(n["h"])("th",null,"品名"),Object(n["h"])("th",null,"數量"),Object(n["h"])("th",null,"單價")],-1),h={class:"text-end"},O=Object(n["h"])("td",{colspan:"2",class:"text-end"},"總計",-1),j={class:"text-end text-success"},f={class:"table"},p=Object(n["h"])("th",{width:"100"},"Email",-1),g=Object(n["h"])("th",null,"姓名",-1),y=Object(n["h"])("th",null,"收件人電話",-1),v=Object(n["h"])("th",null,"收件人地址",-1),m=Object(n["h"])("th",null,"付款狀態",-1),x={key:0},w={key:1,class:"text-success"},I={class:"text-end me-5 mt-5"},k={class:"btn btn-danger"};function L(t,e,c,L,S,$){return Object(n["y"])(),Object(n["g"])("div",r,[o,(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(S.orders,(function(e){return Object(n["y"])(),Object(n["g"])("div",{class:"list-group bg-secondary my-5",key:e},[Object(n["h"])("a",i,[Object(n["h"])("span",a,"訂單-"+Object(n["I"])(e.create_at),1)]),Object(n["h"])("div",null,[Object(n["h"])("div",s,[Object(n["h"])("div",l,[Object(n["h"])("form",{class:"col-md-10",onSubmit:Object(n["T"])((function(t){return $.payOrder(e.id)}),["prevent"])},[Object(n["h"])("table",b,[d,Object(n["h"])("tbody",null,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(e.products,(function(e){return Object(n["y"])(),Object(n["g"])("tr",{key:e.id},[Object(n["h"])("td",null,Object(n["I"])(e.product.title),1),Object(n["h"])("td",null,Object(n["I"])(e.qty)+" / "+Object(n["I"])(e.product.unit),1),Object(n["h"])("td",h,Object(n["I"])(t.$filters.currency(e.final_total))+"元",1)])})),128))]),Object(n["h"])("tfoot",null,[Object(n["h"])("tr",null,[O,Object(n["h"])("td",j,Object(n["I"])(t.$filters.currency(e.total))+"元",1)])])]),Object(n["h"])("table",f,[Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[p,Object(n["h"])("td",null,Object(n["I"])(e.user.email),1)]),Object(n["h"])("tr",null,[g,Object(n["h"])("td",null,Object(n["I"])(e.user.name),1)]),Object(n["h"])("tr",null,[y,Object(n["h"])("td",null,Object(n["I"])(e.user.tel),1)]),Object(n["h"])("tr",null,[v,Object(n["h"])("td",null,Object(n["I"])(e.user.address),1)]),Object(n["h"])("tr",null,[m,Object(n["h"])("td",null,[e.is_paid?(Object(n["y"])(),Object(n["g"])("span",w,"付款完成")):(Object(n["y"])(),Object(n["g"])("span",x,"尚未付款"))])])])]),Object(n["h"])("div",I,[Object(n["S"])(Object(n["h"])("button",k,"付款去",512),[[n["O"],!e.is_paid]])])],40,u)])])])])})),128))])}c("4de4"),c("99af");var S={data:function(){return{orderlist:JSON.parse(localStorage.getItem("orderList"))||[],orders:[]}},methods:{getOrderList:function(){var t=this;this.orderlist.filter((function(e){return t.getOrder(e)}))},getOrder:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiru0220","/order/").concat(t);this.isLoading=!0,this.$http.get(c).then((function(t){e.isLoading=!1,t.data.success&&(e.order=t.data.order,e.orders.push(e.order))}))},payOrder:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiru0220","/pay/").concat(t);this.isLoading=!0,this.$http.post(c).then((function(t){e.isLoading=!1,console.log(t)}))}},created:function(){this.getOrderList()}};S.render=L;e["default"]=S}}]);
//# sourceMappingURL=chunk-2b688bfc.de8c93fe.js.map